<mxfile host="app.diagrams.net" modified="2024-08-05T15:24:08.079Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" etag="R9wPGlSr6h3N90HsFphu" version="24.7.2" type="github">
  <diagram name="第 1 页" id="ozlCW-Ee5-HFpllsYa1k">
    <mxGraphModel dx="1163" dy="935" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-68" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="938" y="3500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-93" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2422.38" y="1690" width="277.62" height="850" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-150" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E5CCFF;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="640" width="300" height="450" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-34" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF99CC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1086" y="62.5" width="500" height="420" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-30" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCCC00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="896" y="62.5" width="150" height="200" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-40" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-31" target="L0zeIL_IlN0LuXFVjX9a-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-31" value="ThreadLocal&lt;div&gt;Ref&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="966" y="120" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-64" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-32" target="L0zeIL_IlN0LuXFVjX9a-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-32" value="CurrentThread&lt;div&gt;Ref&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="961" y="207.5" width="85" height="35" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-35" value="ThreadLocal实例1" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1106" y="90" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-36" value="var1 = new ThreadLocal(INIT_V)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="907" y="82.5" width="115" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-37" value="new Thread.run()" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="907" y="182.5" width="107" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-41" value="ThreadLocal实例2" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1246" y="90" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-42" target="L0zeIL_IlN0LuXFVjX9a-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-42" value="Thread实例" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1116" y="307.5" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-43" target="L0zeIL_IlN0LuXFVjX9a-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-43" value="ThreadLocalMap" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1246" y="307.5" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-54" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1306" y="162.5" width="260" height="110" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-44" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF9933;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1316" y="192.5" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-45" value="key" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#80FF00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1326" y="202.5" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-47" value="value" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1326" y="232.5" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-48" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF9933;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1396" y="192.5" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-49" value="key" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#80FF00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1406" y="202.5" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-50" value="value" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1406" y="232.5" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-51" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF9933;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1476" y="192.5" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-52" value="key" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#80FF00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1486" y="202.5" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-53" value="value" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1486" y="232.5" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-55" value="Entity" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1321" y="167.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-56" value="Entity" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1400" y="167.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-57" value="Entity" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1481" y="167.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-58" target="L0zeIL_IlN0LuXFVjX9a-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-58" value="Entity[] = table&amp;nbsp; &amp;nbsp;用数组存储，对key哈希取模放入数组index中" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1376" y="312.5" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-61" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-35" target="L0zeIL_IlN0LuXFVjX9a-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1196" y="217.5" as="sourcePoint" />
            <mxPoint x="1246" y="167.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-62" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-49" target="L0zeIL_IlN0LuXFVjX9a-41" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1456" y="142.5" as="sourcePoint" />
            <mxPoint x="1506" y="92.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-63" value="如果线程里有多个 new ThreadLocal() 依次hash到数组里" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1346" y="127.5" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-68" value="INIT_V初始值" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1146" y="200" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-69" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-68" target="L0zeIL_IlN0LuXFVjX9a-47" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1216" y="292.5" as="sourcePoint" />
            <mxPoint x="1266" y="242.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-72" value="多数情况下，ThreadLocal会是多个静态实例在应用程序中" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3FF66;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1116" y="362.5" width="160" height="45" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-73" value="Heap堆" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1096" y="60" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-74" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCCC00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="896" y="282.5" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-75" value="线程1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="896" y="60.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-76" value="线程2" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="896" y="287.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-78" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-77" target="L0zeIL_IlN0LuXFVjX9a-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-77" value="ThreadLocal&lt;div&gt;Ref&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="966" y="317.5" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-82" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-79" target="L0zeIL_IlN0LuXFVjX9a-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-79" value="线程2的Thread&lt;div&gt;Ref&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="961" y="362.5" width="85" height="35" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-80" target="L0zeIL_IlN0LuXFVjX9a-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-80" value="Thread实例2" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1116" y="422.5" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-81" value="ThreadLocalMap" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1246" y="422.5" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-84" value="每个线程对应不同的Thread实例，所以线程间是隔离的" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1356" y="432.5" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-85" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCCC00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="896" y="432.5" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-86" value="线程3" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="896" y="442.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-88" value="自动配置类" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1132" y="632.5" width="84" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-89" target="L0zeIL_IlN0LuXFVjX9a-90" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="980" y="730" />
              <mxPoint x="980" y="730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-157" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="L0zeIL_IlN0LuXFVjX9a-93" vertex="1" connectable="0">
          <mxGeometry x="-0.2" y="5" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-89" target="L0zeIL_IlN0LuXFVjX9a-92" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1226" y="820" />
              <mxPoint x="1226" y="820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-156" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="L0zeIL_IlN0LuXFVjX9a-96" vertex="1" connectable="0">
          <mxGeometry x="-0.5727" y="2" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-89" target="L0zeIL_IlN0LuXFVjX9a-91" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1131" y="740" />
              <mxPoint x="1131" y="740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-155" value="@Bean" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="L0zeIL_IlN0LuXFVjX9a-117" vertex="1" connectable="0">
          <mxGeometry x="-0.2611" y="2" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-89" value="NacosServiceRegistryAutoConfiguration" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="926" y="700" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-90" target="L0zeIL_IlN0LuXFVjX9a-121" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="980" y="1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-159" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-90" target="L0zeIL_IlN0LuXFVjX9a-113" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="980" y="1015" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-160" value="对应的&lt;span style=&quot;text-wrap: wrap; font-size: 12px; background-color: rgb(251, 251, 251);&quot;&gt;serviceRegistry&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="L0zeIL_IlN0LuXFVjX9a-159" vertex="1" connectable="0">
          <mxGeometry x="-0.1154" y="-1" relative="1" as="geometry">
            <mxPoint x="35" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-90" value="NacosServiceRegistry" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="907" y="770" width="146" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-91" target="L0zeIL_IlN0LuXFVjX9a-113" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1040" y="850" />
              <mxPoint x="1040" y="1000" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-116" value="对应getRegistration" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="L0zeIL_IlN0LuXFVjX9a-115" vertex="1" connectable="0">
          <mxGeometry x="0.1639" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-91" value="NacosRegistration" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1058" y="830" width="146" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-161" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-92" target="L0zeIL_IlN0LuXFVjX9a-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-162" value="继承" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="L0zeIL_IlN0LuXFVjX9a-161" vertex="1" connectable="0">
          <mxGeometry x="-0.4873" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-92" value="NacosAutoServiceRegistration" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1136" y="930" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-98" value="依赖上面两个bean" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1094" y="900" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-99" target="L0zeIL_IlN0LuXFVjX9a-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-99" value="AbstractAutoServiceRegistration" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1396" y="760" width="199" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-100" value="ApplicationListener&lt;div&gt;&amp;lt;WebServerInitializedEvent&amp;gt;&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1402" y="690" width="188" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-102" value="" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-99" target="L0zeIL_IlN0LuXFVjX9a-100" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1604" y="810" as="sourcePoint" />
            <mxPoint x="1654" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-103" target="L0zeIL_IlN0LuXFVjX9a-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-103" value="onApplicationEvent" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1433.5" y="820" width="124" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-104" target="L0zeIL_IlN0LuXFVjX9a-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-104" value="start" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1471.5" y="870" width="48" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-114" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-105" target="L0zeIL_IlN0LuXFVjX9a-113" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-105" value="register" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1464" y="930" width="64" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-122" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;exitX=0.5;exitY=1;exitDx=0;exitDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-113" target="L0zeIL_IlN0LuXFVjX9a-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-113" value="this.serviceRegistry.register(getRegistration())&lt;div&gt;交给子类实现&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1362" y="970" width="268" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-121" target="L0zeIL_IlN0LuXFVjX9a-126" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-121" value="register" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="945" y="1060" width="70" height="21" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-123" target="L0zeIL_IlN0LuXFVjX9a-129" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-123" value="NamingService.registerInstance&lt;div&gt;(服务名, 组名, 注册实例)&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="878" y="1191" width="204" height="50" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-126" target="L0zeIL_IlN0LuXFVjX9a-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-126" value="实例化NamingService" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCCC00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="914" y="1121" width="132" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-129" target="L0zeIL_IlN0LuXFVjX9a-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-142" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-129" target="L0zeIL_IlN0LuXFVjX9a-138" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-129" value="增加心跳信息" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1104.25" y="1201" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-131" value="if&amp;nbsp; isEphemeral()&lt;div&gt;AC模式-持久化实例&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1096" y="1161" width="121" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-132" target="L0zeIL_IlN0LuXFVjX9a-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-132" value="注册实例" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1106.75" y="1286" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-133" value="/instance" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1550.5" y="1286" width="89.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-138" target="L0zeIL_IlN0LuXFVjX9a-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-138" value="schedule(任务BeatTask)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF9933;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1216" y="1198.5" width="150" height="35" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-139" target="L0zeIL_IlN0LuXFVjX9a-141" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-139" value="serverProxy.sendBeat" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1394" y="1201" width="134" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-140" target="L0zeIL_IlN0LuXFVjX9a-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-140" value="serverProxy.registerService" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F19C99;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1335" y="1286" width="154" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-141" value="/instance/beat" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1550.5" y="1201" width="89.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-145" value="注意不是定时执行，而是根据服务的返回的period字段决定下次执行时间" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FF9933;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1254" y="1151" width="206" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-146" value="如果在心跳过程中返回20404，触发重新注册实例&lt;div&gt;server.registerService&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=#F19C99;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1299.5" y="1241" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-151" value="springcloud的一套" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1365" y="645" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-152" target="L0zeIL_IlN0LuXFVjX9a-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-152" value="client启动&lt;div&gt;服务注册&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="949.75" y="620" width="112.5" height="55" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.728;entryY=0.019;entryDx=0;entryDy=0;entryPerimeter=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-88" target="L0zeIL_IlN0LuXFVjX9a-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-163" value="实例化NamingService" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCCC00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="860" y="1584" width="132" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-164" value="cacheDir&lt;div&gt;是vm虚拟机或者用户目录下/nacos/&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="888" y="1654" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-168" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-165" target="L0zeIL_IlN0LuXFVjX9a-167" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-165" value="心跳线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1091" y="1554" width="104" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-166" value="udp接收" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1259" y="1714" width="74" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-170" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-167" target="L0zeIL_IlN0LuXFVjX9a-169" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-167" value="ScheduledThreadPoolExecutor" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1275" y="1554" width="182" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-169" value="发送心跳task" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1505" y="1554" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-172" value="failover&lt;div&gt;故障转移&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1259" y="1634" width="104" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-173" value="向本地cache目录写数据" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1386" y="1634" width="104" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-174" value="HostReactor" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1101" y="1664" width="104" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-175" value="创建udp socket接收服务端推送过来的数据" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1378.5" y="1724" width="149" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-176" target="L0zeIL_IlN0LuXFVjX9a-177" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-176" value="client调用接口" style="ellipse;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1934" y="610" width="112.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-177" target="entX_LZe45Zs7ox7Cd2R-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-177" value="OpenFeign" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1948.25" y="682.5" width="84" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-198" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-178" target="L0zeIL_IlN0LuXFVjX9a-197" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-178" value="&lt;div&gt;NacosNamingService实例&lt;br&gt;&lt;/div&gt;&lt;div&gt;getAllInstances&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCCC00;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1939" y="750" width="174" height="50" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-190" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-180" target="L0zeIL_IlN0LuXFVjX9a-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-180" value="是否要故障转移&lt;div&gt;如果有，返回本地cache数据&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1946" y="880" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-181" value="&lt;div&gt;Map&amp;lt;String, ServiceInfo&amp;gt;&lt;br&gt;&lt;/div&gt;serviceInfoMap" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2150" y="930" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-182" target="L0zeIL_IlN0LuXFVjX9a-183" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-182" value="如果缓存里没有" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1979" y="960" width="94" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-183" target="L0zeIL_IlN0LuXFVjX9a-184" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-183" value="/instance/list" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1981.25" y="1030" width="89.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-193" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-184" target="L0zeIL_IlN0LuXFVjX9a-185" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-200" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-184" target="L0zeIL_IlN0LuXFVjX9a-178" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1919" y="1110" />
              <mxPoint x="1919" y="775" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-184" value="结果写回Map缓存中" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1966" y="1091" width="120" height="39" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-194" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-185" target="L0zeIL_IlN0LuXFVjX9a-186" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-185" value="添加定时更新" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2118.75" y="1095" width="84" height="31" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-186" target="L0zeIL_IlN0LuXFVjX9a-187" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-186" value="UpdateTask" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF9933;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2238.75" y="1093" width="84" height="35" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-187" target="L0zeIL_IlN0LuXFVjX9a-183" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-187" value="定时请求接口刷新" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2224.25" y="1030" width="113" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-197" target="L0zeIL_IlN0LuXFVjX9a-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-197" value="&lt;div&gt;hostReactor.getServiceInfo&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1946" y="830" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-202" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;shadow=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-182" target="L0zeIL_IlN0LuXFVjX9a-181" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-204" value="nacos服务端 V2.3.2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1710" y="1271" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-215" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-205" target="L0zeIL_IlN0LuXFVjX9a-209" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-205" value="/instance/list" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2915.25" y="1410" width="89.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-206" target="L0zeIL_IlN0LuXFVjX9a-210" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-206" value="/instance/beat" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="3404.01" y="1430" width="89.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-207" target="L0zeIL_IlN0LuXFVjX9a-208" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-207" value="/instance" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99FFCC;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1922.75" y="1489" width="89.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-208" target="NVwCvqEGYrxMSUIzLfOA-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-208" target="entX_LZe45Zs7ox7Cd2R-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-208" value="InstanceController.register" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1887.5" y="1550" width="160" height="21.5" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-209" target="NVwCvqEGYrxMSUIzLfOA-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-209" value="InstanceController.list" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2880" y="1480" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-210" target="NVwCvqEGYrxMSUIzLfOA-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-210" value="InstanceController.beat" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3373.14" y="1480" width="151.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-217" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="L0zeIL_IlN0LuXFVjX9a-213" target="L0zeIL_IlN0LuXFVjX9a-214" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-213" value="从数据结构中获取数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2892.07" y="1674" width="135.87" height="52" as="geometry" />
        </mxCell>
        <mxCell id="L0zeIL_IlN0LuXFVjX9a-214" value="筛选健康的实例" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2907.6099999999997" y="1780" width="104.76" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-1" target="L0zeIL_IlN0LuXFVjX9a-213" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-1" value="兼容1.x版本发送udp推送" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2882.99" y="1564" width="154" height="54" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-4" target="entX_LZe45Zs7ox7Cd2R-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-4" target="entX_LZe45Zs7ox7Cd2R-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-4" value="查找是否存在实例" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3388.75" y="1571" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-5" value="根据beat的ip+端口+临时实例ephemeral" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3450" y="1514" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-6" value="存在返回10200&lt;div&gt;不存在返回20404&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3388.76" y="1860" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-7" target="NVwCvqEGYrxMSUIzLfOA-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-7" value="更新最后心跳时间" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3391.62" y="1789.5" width="114.25" height="41" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-12" target="NVwCvqEGYrxMSUIzLfOA-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-12" value="新建实例&lt;div&gt;new Instance()&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1912.5" y="1592.5" width="110" height="32" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-13" target="NVwCvqEGYrxMSUIzLfOA-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-54" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-13" target="NVwCvqEGYrxMSUIzLfOA-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-55" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-13" target="NVwCvqEGYrxMSUIzLfOA-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-13" value="registerInstance(空间、服务名、instance)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1882.81" y="1646.5" width="169.38" height="47.5" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-14" value="发布事件&lt;div&gt;RegisterInstanceTraceEvent&lt;br&gt;&lt;/div&gt;&lt;div&gt;待分析&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2086" y="1648.75" width="160" height="43" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-15" target="NVwCvqEGYrxMSUIzLfOA-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-15" target="NVwCvqEGYrxMSUIzLfOA-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-105" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-15" target="NVwCvqEGYrxMSUIzLfOA-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2070" y="1780" />
              <mxPoint x="2225" y="1780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-15" value="ephemeral&lt;div&gt;临时实例，Distro协议&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF9933;" parent="1" vertex="1">
          <mxGeometry x="1976.75" y="1718" width="142" height="42" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-16" target="entX_LZe45Zs7ox7Cd2R-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-16" value="persistent&lt;div&gt;持久化实例，Raft协议&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1791.5" y="1720" width="131.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-22" target="NVwCvqEGYrxMSUIzLfOA-46" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1998.875" y="2095" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="2048" y="2163" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-76" value="addTask" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NVwCvqEGYrxMSUIzLfOA-75" vertex="1" connectable="0">
          <mxGeometry x="-0.3833" y="-4" relative="1" as="geometry">
            <mxPoint x="2" y="15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-22" value="new PushDelayTask" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1984.12" y="2070" width="127.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-23" value="MetricsMonitor.&lt;div&gt;incrementServiceChangeCount&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2170.75" y="2020" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-25" target="NVwCvqEGYrxMSUIzLfOA-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-25" value="获取Client对象" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2150" y="1719" width="101" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-27" target="NVwCvqEGYrxMSUIzLfOA-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-27" value="addServiceInstance()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2280" y="1723" width="129" height="31" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-28" target="NVwCvqEGYrxMSUIzLfOA-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-28" value="ClientRegisterServiceEvent" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="1954.25" y="1805" width="185.75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-29" target="NVwCvqEGYrxMSUIzLfOA-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2319" y="1820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-29" value="InstanceMetadataEvent" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="2140" y="1805" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-30" target="NVwCvqEGYrxMSUIzLfOA-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-30" value="ServiceChangedEvent" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="1963.13" y="1920" width="168" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-31" target="NVwCvqEGYrxMSUIzLfOA-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-31" value="&lt;div&gt;发送&lt;br&gt;&lt;/div&gt;ClientChangedEvent" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="2440" y="1719" width="170" height="39" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-32" target="NVwCvqEGYrxMSUIzLfOA-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-32" value="ClientServiceIndexesManager" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1957.13" y="1860" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-33" target="NVwCvqEGYrxMSUIzLfOA-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-33" target="NVwCvqEGYrxMSUIzLfOA-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-33" value="NamingSubscriberServiceV2Impl" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1948.25" y="1980" width="199" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-34" value="通知所有的订阅者" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1861.25" y="2080" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-36" value="监控统计" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2238.75" y="2067.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-37" value="NamingMetadataManager" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2238.75" y="1860" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-38" value="维护Metadata信息" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2270" y="1900" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-39" target="NVwCvqEGYrxMSUIzLfOA-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-39" value="DistroClientDataProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2452.5" y="1880" width="145" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-40" target="NVwCvqEGYrxMSUIzLfOA-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-40" value="如果不是单机" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2472.5" y="1930" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.625;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-41" target="NVwCvqEGYrxMSUIzLfOA-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-41" value="DistroDelayTaskExecuteEngine" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2434" y="2157.5" width="180" height="45" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-42" target="NVwCvqEGYrxMSUIzLfOA-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-66" value="addTask" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="entX_LZe45Zs7ox7Cd2R-65" vertex="1" connectable="0">
          <mxGeometry x="-0.2078" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-42" value="new DistroDelayTask" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2457.5" y="2065" width="135" height="35" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-44" target="entX_LZe45Zs7ox7Cd2R-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-44" value="NacosDelayTaskExecuteEngine" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="2157.5" y="2240" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.375;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-46" target="NVwCvqEGYrxMSUIzLfOA-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-46" value="PushDelayTaskExecuteEngine" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1948.25" y="2170" width="201" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-49" target="NVwCvqEGYrxMSUIzLfOA-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-49" target="NVwCvqEGYrxMSUIzLfOA-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-76" value="setDefaultTaskProcessor" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="entX_LZe45Zs7ox7Cd2R-75" vertex="1" connectable="0">
          <mxGeometry x="-0.1822" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-49" value="DistroDelayTaskProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2439.5" y="2250" width="169" height="35" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-52" target="NVwCvqEGYrxMSUIzLfOA-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-52" target="NVwCvqEGYrxMSUIzLfOA-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2388" y="2405" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-52" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;new&amp;nbsp;DistroSyncChangeTask&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2438.5" y="2385" width="173" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-53" value="&lt;div&gt;别名&quot;DistroExecuteTaskExecuteEngine&quot;&lt;/div&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="2272.13" y="2565" width="236" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-54" target="entX_LZe45Zs7ox7Cd2R-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-54" value="TaskExecuteWorker.process" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2196.63" y="2685" width="167.13" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-55" value="queue" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="2397.38" y="2695" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-62" target="NVwCvqEGYrxMSUIzLfOA-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-62" value="process" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFCCE6;" parent="1" vertex="1">
          <mxGeometry x="2476.25" y="2310" width="95.5" height="42" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-72" target="NVwCvqEGYrxMSUIzLfOA-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-72" value="syncToAllServer" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2470" y="2010" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-77" target="NVwCvqEGYrxMSUIzLfOA-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-79" value="setDefaultTaskProcessor" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NVwCvqEGYrxMSUIzLfOA-78" vertex="1" connectable="0">
          <mxGeometry x="0.05" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-77" target="NVwCvqEGYrxMSUIzLfOA-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-77" value="PushDelayTaskProcessor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1955.88" y="2250" width="166" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-81" target="NVwCvqEGYrxMSUIzLfOA-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-81" value="process" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFCCE6;" parent="1" vertex="1">
          <mxGeometry x="1995.8100000000002" y="2305" width="86.37" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-85" value="&lt;div&gt;别名&quot;naming&quot;&lt;/div&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="2137.13" y="2565" width="120.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-86" target="NVwCvqEGYrxMSUIzLfOA-85" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1971.25" y="2390" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="2195" y="2405" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-62" value="" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fillColor=#FF3333;" parent="NVwCvqEGYrxMSUIzLfOA-88" vertex="1" connectable="0">
          <mxGeometry x="-0.6627" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-86" target="NVwCvqEGYrxMSUIzLfOA-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-86" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;new PushExecuteTask&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1957.88" y="2385" width="164" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-90" value="run方法&lt;div&gt;syncData&lt;div&gt;grpc同步数据请求&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00FFFF;" parent="1" vertex="1">
          <mxGeometry x="2465" y="2450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-91" target="NVwCvqEGYrxMSUIzLfOA-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-91" value="run" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00FFFF;" parent="1" vertex="1">
          <mxGeometry x="2004" y="2440" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="NVwCvqEGYrxMSUIzLfOA-92" target="NVwCvqEGYrxMSUIzLfOA-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-92" value="getPushExecutor().&lt;div&gt;doPushWithCallback&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1964.26" y="2505" width="148.37" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-93" value="clientId中是否有#号区分用udp还是rpc推送" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1970.44" y="2570" width="136" height="80" as="geometry" />
        </mxCell>
        <mxCell id="NVwCvqEGYrxMSUIzLfOA-111" value="1.x版本是UDP推送&lt;div&gt;2.x版本是gRpc长连接&lt;/div&gt;&lt;div&gt;1.x版本格式为：ip:port#&lt;span style=&quot;background-color: initial;&quot;&gt;ephemeral&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2.x版本格式为：time_ip_port&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1933.25" y="2665" width="216" height="60" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="entX_LZe45Zs7ox7Cd2R-2" target="entX_LZe45Zs7ox7Cd2R-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-2" value="@CanDistro注解" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#FF9933;" parent="1" vertex="1">
          <mxGeometry x="2083.75" y="1530.75" width="140.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="entX_LZe45Zs7ox7Cd2R-3" target="entX_LZe45Zs7ox7Cd2R-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="entX_LZe45Zs7ox7Cd2R-3" target="entX_LZe45Zs7ox7Cd2R-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-3" value="DistroFilter" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2229" y="1489" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-4" value="实现Servlet的Filter" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2353.01" y="1484" width="122" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="entX_LZe45Zs7ox7Cd2R-6" target="L0zeIL_IlN0LuXFVjX9a-207" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-6" value="根据Distro协议转发请求到对应的写节点" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF9933;" parent="1" vertex="1">
          <mxGeometry x="2077.75" y="1484" width="116.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="entX_LZe45Zs7ox7Cd2R-13" target="entX_LZe45Zs7ox7Cd2R-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-13" value="JRaftProtocol" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#9999FF;" parent="1" vertex="1">
          <mxGeometry x="1808.53" y="1780" width="97.19" height="35" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-14" value="蚂蚁金服实现的JRaft" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1797.12" y="1840" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-26" value="如果实例不存在&lt;div&gt;调创建实例instance方法&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3560" y="1573" width="150" height="36" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="entX_LZe45Zs7ox7Cd2R-27" target="entX_LZe45Zs7ox7Cd2R-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-27" value="scheduleNow(beatProcessor)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF3399;" parent="1" vertex="1">
          <mxGeometry x="3358.75" y="1642.5" width="180" height="36" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-29" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;HealthStateChangeTraceEvent&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="3590" y="1722" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="entX_LZe45Zs7ox7Cd2R-31" target="NVwCvqEGYrxMSUIzLfOA-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="entX_LZe45Zs7ox7Cd2R-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3590" y="1733" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-31" value="实例是否健康" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3395.75" y="1706" width="106" height="54" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="entX_LZe45Zs7ox7Cd2R-36" target="entX_LZe45Zs7ox7Cd2R-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-36" value="RibbonNacosAutoConfiguration&lt;div&gt;自动配置&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2150" y="600" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="entX_LZe45Zs7ox7Cd2R-37" target="entX_LZe45Zs7ox7Cd2R-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-37" value="&lt;div&gt;@Bean&lt;/div&gt;ribbonServerList" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2192" y="677.5" width="116" height="40" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="entX_LZe45Zs7ox7Cd2R-38" target="L0zeIL_IlN0LuXFVjX9a-197" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2250" y="845" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-38" value="获取nacos的Instance" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2185" y="760" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" target="entX_LZe45Zs7ox7Cd2R-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2152.5" y="697.5" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-40" value="负载均衡&lt;div&gt;loadbalancer&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="2063.75" y="676.5" width="93.75" height="42" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-50" value="发布事件" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3508.75" y="1742" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-51" value="&lt;div&gt;ServiceChangedEvent&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="3590" y="1674" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-52" value="&lt;div&gt;ClientChangedEvent&lt;br&gt;&lt;/div&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="3590" y="1772" width="200" height="28" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-57" value="Distro协议对等同步" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FF9933;" parent="1" vertex="1">
          <mxGeometry x="2570" y="1792.5" width="115" height="35" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-60" value="AP模式" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FF9933;" parent="1" vertex="1">
          <mxGeometry x="2349" y="1581" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-61" value="CP模式" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#9999FF;" parent="1" vertex="1">
          <mxGeometry x="1799.5" y="1669" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-68" value="继承" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2295" y="2150" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="entX_LZe45Zs7ox7Cd2R-78" target="NVwCvqEGYrxMSUIzLfOA-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-78" value="NacosExecuteTaskExecuteEngine" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="2182.13" y="2615" width="252" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-81" value="while(1){&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;queue.take()&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Task.run()&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00FFFF;" parent="1" vertex="1">
          <mxGeometry x="2207.38" y="2755" width="145.63" height="60" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-84" value="addTask" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="2157.25" y="2465" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-86" value="addTask(new Task&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="2417.38" y="2650" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-87" value="addTask" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="2349" y="2465" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-90" value="定时任务去执行Prosessor.process()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCE6;" parent="1" vertex="1">
          <mxGeometry x="2217.5" y="2310" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-92" value="这里面有一个任务merge合并的逻辑" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#CCCC00;" parent="1" vertex="1">
          <mxGeometry x="2236" y="2370" width="113" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-94" value="继承" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2192" y="2157.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-95" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2202.75" y="2334.5" as="sourcePoint" />
            <mxPoint x="2152.75" y="2334.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="entX_LZe45Zs7ox7Cd2R-96" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2353.01" y="2334.5" as="sourcePoint" />
            <mxPoint x="2405.01" y="2334.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-1" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="992.5" y="2700" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-2" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1062.25" y="2065" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-3" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1391" y="2065" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-4" value="Server3&lt;div&gt;myid=3&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1226" y="2065" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-5" value="Server5&lt;div&gt;myid=5&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1550.5" y="2065" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-7" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="983.5" y="2680" as="sourcePoint" />
            <mxPoint x="1693" y="2680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-9" value="Time Line 时间轴" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="7Mqe-pKZRM4rNLALxK7J-7">
          <mxGeometry x="-0.9076" y="1" relative="1" as="geometry">
            <mxPoint x="38" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-41" value="集群第一次启动" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="7Mqe-pKZRM4rNLALxK7J-7">
          <mxGeometry x="-0.5904" y="1" relative="1" as="geometry">
            <mxPoint x="181" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-10" value="server1启动。&lt;div&gt;发起一次选举。&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="980.5" y="2750" width="124" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-11" value="投自己一票" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="992.5" y="2790" width="97" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-12" value="不够半数 3/5.选举无法完成，server1状态保持为 LOOKING" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="973.5" y="2830" width="136" height="70" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-13" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1136" y="2700" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-14" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1136" y="2760" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-15" value="server2启动。&lt;div&gt;发起一次选举。&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1124" y="2810" width="124" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-16" value="每个结点都投自己一票" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1132" y="2850" width="128" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-17" value="交换选票&lt;div&gt;服务器1发现服务器2点myid比自己大，修改推举2为leader&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1111.5" y="2915" width="149" height="50" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-18" value="当前选票：&lt;div&gt;server1:0&lt;/div&gt;&lt;div&gt;server2:2&lt;/div&gt;&lt;div&gt;不够半数。&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1119.5" y="3000" width="129" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-19" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1290" y="2700" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-20" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1290" y="2760" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-21" value="Server3&lt;div&gt;myid=3&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="1290" y="2820" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-22" value="server3启动。&lt;div&gt;发起一次选举&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1282" y="2875" width="124" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-23" value="3台机器交换选票" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1316" y="2960" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-25" value="每个结点都投自己一票" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1294" y="2915" width="126" height="35" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-26" value="当前选票：&lt;div&gt;server1:0&lt;/div&gt;&lt;div&gt;server2:0&lt;/div&gt;&lt;div&gt;server3:3&lt;/div&gt;&lt;div&gt;够半数。节点3修改为LEADER&lt;/div&gt;&lt;div&gt;1、2修改为FOLLOWING&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1277" y="3010" width="138" height="120" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-30" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1440" y="2882" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-31" value="server4启动。&lt;div&gt;发起一次选举&lt;/div&gt;&lt;div&gt;server4投自己一票&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1428" y="2940" width="124" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-32" value="此时1、2、3不是LOOKING状态。不会修改选票数据" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1440" y="3000" width="104" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-33" value="当前选票：&lt;div&gt;server1:0&lt;/div&gt;&lt;div&gt;server2:0&lt;/div&gt;&lt;div&gt;server3:3&lt;/div&gt;&lt;div&gt;server4:1&lt;/div&gt;&lt;div&gt;节点4修改状态FOLLOWING&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1423" y="3060" width="138" height="120" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-37" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1574.5" y="2881" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-38" value="Server5&lt;div&gt;myid=5&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1576" y="2940" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-39" value="和server4启动同理" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1574.5" y="2990" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-42" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="941.25" y="3250" as="sourcePoint" />
            <mxPoint x="1270" y="3250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-43" value="Time Line 时间轴" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="7Mqe-pKZRM4rNLALxK7J-42">
          <mxGeometry x="-0.9076" y="1" relative="1" as="geometry">
            <mxPoint x="38" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-50" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1440" y="2700" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-51" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1440" y="2760" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-52" value="Server3&lt;div&gt;myid=3&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="1440" y="2820" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-53" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1574.5" y="2700" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-54" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1574.5" y="2760" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-55" value="Server3&lt;div&gt;myid=3&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="1574.5" y="2820" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-62" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="949" y="3451" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-63" value="Server5&lt;div&gt;myid=5&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="950" y="3510" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-64" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="949" y="3270" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-65" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="949" y="3330" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-66" value="Server3&lt;div&gt;myid=3&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="949" y="3390" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-69" value="节点5网络故障：&lt;div&gt;如失去与leader的连接。&lt;/div&gt;&lt;div&gt;再如失去和集群的连接（脑裂）&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="903.5" y="3570" width="187" height="70" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-71" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1106" y="3451" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-72" value="Server5&lt;div&gt;myid=5&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1106" y="3510" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-73" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1106" y="3270" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-74" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1106" y="3330" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-75" value="Server3&lt;div&gt;myid=3&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="1106" y="3390" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-76" value="节点5会被告知，已经有lerder&lt;div&gt;发送lerder的信息。&lt;/div&gt;&lt;div&gt;节点5尝试重新和lerder建立联系&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1108" y="3580" width="186" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-77" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="937" y="3830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-78" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="945.25" y="3690" as="sourcePoint" />
            <mxPoint x="1654.75" y="3690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-79" value="Time Line 时间轴" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="7Mqe-pKZRM4rNLALxK7J-78">
          <mxGeometry x="-0.9076" y="1" relative="1" as="geometry">
            <mxPoint x="38" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-95" value="Lerder挂了" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="7Mqe-pKZRM4rNLALxK7J-78">
          <mxGeometry x="-0.4697" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-80" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="949" y="3901" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-81" value="Server5&lt;div&gt;myid=5&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="949" y="3960" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-82" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="949" y="3720" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-83" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="949" y="3780" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-84" value="Server3&lt;div&gt;myid=3&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99004D;" vertex="1" parent="1">
          <mxGeometry x="949" y="3840" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-85" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1099" y="3901" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-86" value="Server5&lt;div&gt;myid=5&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1100" y="3960" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-87" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1099" y="3720" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-88" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="1099" y="3780" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-96" value="EPOCH，ZXID，SID&lt;div&gt;1，8，1&lt;/div&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="1243" y="3725" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-97" value="EPOCH，ZXID，SID&lt;div&gt;1，8，2&lt;/div&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="3785" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-98" value="EPOCH，ZXID，SID&lt;div&gt;1，7，4&lt;/div&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="3906" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-99" value="EPOCH，ZXID，SID&lt;div&gt;1，7，5&lt;/div&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="3965" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-105" value="Server4&lt;div&gt;myid=4&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1520" y="3901" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-106" value="Server5&lt;div&gt;myid=5&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1520" y="3960" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-107" value="Server1&lt;div&gt;myid=1&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#66FF66;" vertex="1" parent="1">
          <mxGeometry x="1520" y="3720" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-108" value="Server2&lt;div&gt;myid=2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FF3399;" vertex="1" parent="1">
          <mxGeometry x="1520" y="3780" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-110" value="节点2胜出" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1440" y="3785" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-111" value="选举Leader规则：&amp;nbsp;&lt;div&gt;1、EPOCH大的直接胜出&amp;nbsp;&lt;/div&gt;&lt;div&gt;2、EPOCH相同，事务id大的胜出&amp;nbsp;&lt;/div&gt;&lt;div&gt;3、事务id相同，服务器id大的胜出&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1352" y="4022" width="202" height="70" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-112" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;SID&lt;/h1&gt;&lt;p&gt;服务器id，和myid一致。唯一标识&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1688.81" y="3705" width="194" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-113" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;ZXID&lt;/h1&gt;&lt;p&gt;事务id。标示每一次数据的改变。&lt;/p&gt;&lt;p&gt;在某一时刻，集群内所有服务器的zxid不一定完全一致。因为zk写数据时，只要半数节点写成功 即为成功&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1688.81" y="3800" width="191.19" height="150" as="geometry" />
        </mxCell>
        <mxCell id="7Mqe-pKZRM4rNLALxK7J-114" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;EPOCH&lt;/h1&gt;&lt;p&gt;每个Leader任期的代号。&lt;/p&gt;&lt;p&gt;如古代皇帝执政年间：&lt;/p&gt;&lt;p&gt;雍正年间、 康熙、乾隆年间&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1686" y="3950" width="194" height="120" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
